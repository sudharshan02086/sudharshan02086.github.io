<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>NQR — Fundamental ML Pipeline for Next-Quarter Returns | Sudharshan Goud Bojja</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="NQR pipeline (FNN / RF / ANFIS) to predict next-quarter return direction, with Crew AI decision agent and a daily backtest harness. Built by Sudharshan Goud Bojja." />

  <style>
    :root{
      --bg:#0b0d10; --panel:#12151a; --ink:#e9eef5; --muted:#aab6c5; --accent:#58a6ff; --ok:#3fb950; --warn:#f2cc60; --err:#ff7b72;
      --br:16px; --shadow:0 10px 30px rgba(0,0,0,0.35); --max:1100px;
    }
    *{box-sizing:border-box}
    html,body{margin:0; padding:0; background:var(--bg); color:var(--ink); font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    a{color:var(--accent); text-decoration:none} a:hover{text-decoration:underline}
    header{position:sticky; top:0; backdrop-filter:saturate(180%) blur(8px); background:rgba(11,13,16,0.7); border-bottom:1px solid #20242c; z-index:5}
    nav{max-width:var(--max); margin:0 auto; display:flex; gap:18px; align-items:center; padding:12px 18px}
    nav .brand{font-weight:700}
    nav .spacer{flex:1}
    nav a.btn{background:var(--accent); color:#06101c; padding:8px 12px; border-radius:12px; font-weight:600}
    main{max-width:var(--max); margin:30px auto; padding:0 18px}

    .hero{display:grid; grid-template-columns:1fr; gap:24px; align-items:center}
    .card{background:var(--panel); border:1px solid #20242c; border-radius:var(--br); box-shadow:var(--shadow); padding:22px}
    h1{font-size:clamp(26px,3.5vw,36px); margin:0 0 12px}
    h2{font-size:clamp(22px,3vw,28px); margin:26px 0 10px}
    p.lead{color:var(--muted); margin:8px 0 0}
    ul.tight{margin:10px 0 0 18px; padding:0} ul.tight li{margin:3px 0}
    code, pre{background:#0e1217; border:1px solid #222832; border-radius:10px; padding:10px; color:#d5e0f2; overflow:auto}
    pre{white-space:pre-wrap}
    .grid{display:grid; gap:16px}
    .grid.cols-2{grid-template-columns:repeat(2,1fr)}
    .grid.cols-3{grid-template-columns:repeat(3,1fr)}
    @media (max-width:900px){ .grid.cols-2,.grid.cols-3{grid-template-columns:1fr} }

    table{width:100%; border-collapse:collapse; background:var(--panel); border:1px solid #20242c; border-radius:var(--br); overflow:hidden}
    th,td{padding:12px 10px; border-bottom:1px solid #20242c; text-align:left; vertical-align:top}
    th{background:#0f1319; font-weight:600}
    tr:last-child td{border-bottom:none}

    figure{margin:0}
    figcaption{color:var(--muted); font-size:14px; margin-top:8px}
    img.screenshot{width:100%; border-radius:12px; border:1px solid #20242c; display:block}

    .pill{display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; font-weight:600}
    .pill.ok{background:rgba(63,185,80,0.12); color:var(--ok); border:1px solid rgba(63,185,80,0.35)}
    .pill.warn{background:rgba(242,204,96,0.12); color:var(--warn); border:1px solid rgba(242,204,96,0.35)}
    .pill.err{background:rgba(255,123,114,0.12); color:var(--err); border:1px solid rgba(255,123,114,0.35)}

    footer{color:var(--muted); margin:42px 0 28px; text-align:center}
    .small{font-size:14px; color:var(--muted)}
  </style>
</head>

<body>
  <header>
    <nav aria-label="Primary">
      <div class="brand">NQR — Next-Quarter Return Pipeline</div>
      <a href="#overview">Overview</a>
      <a href="#sprints">Sprint Objectives</a>
      <a href="#work">Work I Did</a>
      <a href="#evidence">Evidence</a>
      <a href="#code">Code</a>
      <a href="#appendix">Appendix</a>
      <div class="spacer"></div>
      <a class="btn" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/tree/bojja-sprint4" target="_blank" rel="noopener">Repository</a>
    </nav>
  </header>

  <main>
    <!-- INTRO -->
    <section class="hero">
      <div class="card">
        <h1>Fundamental ML Pipeline (FNN / RF / ANFIS) for Next-Quarter Return Direction</h1>
        <p class="lead">
          I built an end-to-end pipeline that computes quarterly ratios (ROE, Debt/Equity, Net Margin),
          trains three models (Feed-Forward NN, Random Forest, optional ANFIS),
          exposes an inference JSON API, and combines model probabilities with a Crew AI decision agent.
          A daily backtest harness executes BUY/SELL signals the next trading day to produce an equity curve.
        </p>
        <ul class="tight">
          <li><strong>Role:</strong> Individual contributor (design, coding, testing, backtest)</li>
          <li><strong>Core outputs:</strong> Ratio fetch/compute, FNN/RF training, inference API, Crew AI decision logic, daily backtest</li>
          <li><strong>Name:</strong> Sudharshan Goud Bojja</li>
        </ul>
      </div>
    </section>

    <!-- PROJECT OVERVIEW (moved below intro) -->
    <section id="overview" class="card">
      <h2>Project Overview</h2>
      <p><strong>Goal:</strong> Predict the <em>sign</em> (up/down) of next-quarter returns from fundamental ratios and return a single trade recommendation.</p>
      <p><strong>Models:</strong> FNN, RF, ANFIS (optional if library present). All consume the same 3-feature vector.</p>
      <p><strong>Decision:</strong> Majority-vote/threshold via Crew AI; internal HOLD is a guard when probabilities don’t form a majority. Exposed recommendation follows the BUY/SELL rule.</p>
      <p><strong>Inference JSON:</strong></p>
      <pre>{
  "ticker": "AAPL",
  "fnn_prob": 0.65,
  "rf_prob": 0.59,
  "anfis_prob": 0.71
}</pre>
    </section>

    <!-- SPRINT OBJECTIVES (from task-hour files) -->
    <section id="sprints" class="card">
      <h2>Sprint Objectives</h2>
      <table aria-label="Sprint objectives">
        <thead>
          <tr><th>Sprint</th><th>Objective</th><th>Primary Outputs</th></tr>
        </thead>
        <tbody>
          <tr>
            <td>Sprint 1 — MVP</td>
            <td>Stand up a minimal pipeline with reliable fundamentals ingestion and ratio computation.</td>
            <td>
              Quarterly data fetch via yfinance; ratios (ROE, D/E, Net Margin) with NaN guards; initial tests and working CLI flow.
            </td>
          </tr>
          <tr>
            <td>Sprint 2 — Models & Inference API</td>
            <td>Add model training and an inference endpoint that returns probabilities.</td>
            <td>
              FNN architecture + training loop; RF with basic hyperparameter tuning; optional ANFIS path; <code>ModelInferAgent</code> emitting <code>{ fnn_prob, rf_prob, anfis_prob }</code>.
            </td>
          </tr>
          <tr>
            <td>Sprint 3 — Decision Layer</td>
            <td>Implement Crew AI majority/threshold decision logic and harden JSON handling.</td>
            <td>
              DecisionAgent with thresholded majority vote; strict JSON parsing; edge-case handling and retries; initial integration sanity checks.
            </td>
          </tr>
          <tr>
            <td>Sprint 4 — Integration & Backtest</td>
            <td>Integrate, validate end-to-end, and run a daily backtest with next-day execution.</td>
            <td>
              E2E integration tests/validation; daily features → LLM decision → next-day trades; equity curve & summary stats; backtesting report/visuals.
            </td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- WHAT I DID -->
    <section id="work" class="card">
      <h2>What I worked on</h2>

      <div class="grid cols-2">
        <div>
          <h3>Key user story</h3>
          <p><strong>NQR:</strong> Fundamental ML Pipeline (FNN / RF / ANFIS) to predict next-quarter return direction and output a single BUY/SELL recommendation.</p>
        </div>
        <div>
          <h3>Decision rule</h3>
          <p>Threshold = 0.5. Count each model’s probability above threshold as BUY. Majority of signals → BUY/SELL. Internal HOLD is used only as a guard in backtests.</p>
        </div>
      </div>

      <h3 style="margin-top:18px">Tasks I completed</h3>
      <table aria-label="Tasks completed">
        <thead>
          <tr><th>Task</th><th>My contribution</th><th>Status</th><th>Actual hours</th></tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>NQR.1</strong> Ratio Data Retrieval & Preparation</td>
            <td>Implemented yfinance fetch + ratio compute (ROE, D/E, NPM) with guards for NaNs/missing</td>
            <td><span class="pill ok">Complete</span></td>
            <td>17h</td>
          </tr>
          <tr>
            <td><strong>NQR.2</strong> Model Training Pipeline</td>
            <td>FNN (PyTorch) + RF (GridSearch); optional ANFIS path; validation accuracy printouts</td>
            <td><span class="pill ok">Complete</span></td>
            <td>19h</td>
          </tr>
          <tr>
            <td><strong>NQR.3</strong> Inference API Development</td>
            <td>ModelInferAgent: load artifacts, produce {fnn_prob, rf_prob, anfis_prob} within ~1s on CPU</td>
            <td><span class="pill ok">Complete</span></td>
            <td>15h</td>
          </tr>
          <tr>
            <td><strong>NQR.4</strong> Crew AI Decision Agent</td>
            <td>Majority/threshold logic; strict JSON parsing; edge cases; fallback paths</td>
            <td><span class="pill ok">Complete</span></td>
            <td>30h (S3) + 8h (S4)</td>
          </tr>
          <tr>
            <td><strong>NQR.5</strong> Integration & Testing</td>
            <td>End-to-end integration test; validation on sample tickers; README examples</td>
            <td><span class="pill ok">Complete</span></td>
            <td>10h</td>
          </tr>
          <tr>
            <td><strong>NQR.6</strong> Backtesting & Evaluation</td>
            <td>Daily signal engine (features, LLM decisions with retries); next-day execution; equity & stats</td>
            <td><span class="pill ok">Complete</span></td>
            <td>18h</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- EVIDENCE -->
    <section id="evidence" class="card">
      <h2>Evidence (screenshots)</h2>
      <div class="grid cols-2">
        <figure>
          <img class="screenshot" src="1.jpg" alt="Crew AI decision output from main NQR pipeline run" />
          <figcaption>Screenshot 1 — Crew AI decision JSON from the main pipeline.</figcaption>
        </figure>
        <figure>
          <img class="screenshot" src="2.jpg" alt="Backtest summary with equity curve and performance metrics" />
          <figcaption>Screenshot 2 — Backtest output (daily signals, next-day execution, performance summary).</figcaption>
        </figure>
      </div>
      <p class="small" style="margin-top:10px">Place <code>1.jpg</code> and <code>2.jpg</code> in the same folder as this HTML or adjust paths.</p>
    </section>

    <!-- CODE POINTERS -->
    <section id="code" class="card">
      <h2>Code pointers</h2>
      <ul class="tight">
        <li>Repo: <a target="_blank" rel="noopener" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/tree/bojja-sprint4">github.com/.../Sudharshan-AI-Agent-Stock-Prediction</a></li>
        <li>Main pipeline (ratios → models → inference → decision): <a target="_blank" rel="noopener" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/blob/bojja-sprint4/src/UI/nqr.py">src/UI/nqr.py</a></li>
        <li>Backtest harness (daily features → LLM decisions → next-day trades): <a target="_blank" rel="noopener" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/blob/bojja-sprint4/src/Backtesting/nqr_backtesting.py">src/Backtesting/nqr_backtesting.py</a></li>
        <li>Commits: <a target="_blank" rel="noopener" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/commits/bojja-sprint4/?author=sudharshan02086">Commits page</a></li>
      </ul>
    </section>

    <!-- APPENDIX -->
    <section id="appendix" class="card">
      <h2>Appendix</h2>

      <h3>Summarized user story & acceptance (for reference)</h3>
      <ul class="tight">
        <li>Predict up/down next-quarter return using ratios; three models (FNN/RF/ANFIS) share input shape.</li>
        <li>Inference JSON returns three probabilities; Crew AI converts to a single BUY/SELL by rule.</li>
        <li>Constraints: data integrity (no NaNs to model), inference ≤ 1s CPU (demo scale), robust to missing quarters.</li>
      </ul>

      <h3 style="margin-top:14px">Commits</h3>
      <p class="small">Full history (author filter applied): <a target="_blank" rel="noopener" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/commits/bojja-sprint4/?author=sudharshan02086">link</a></p>
      <table aria-label="Commits table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Commit</th>
            <th>Description</th>
            <th>User Story</th>
            <th>Task</th>
            <th>Link</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>2025-06-02</td>
            <td><code>da6b658e231772bd41d706680a4317d13ddb9b57</code></td>
            <td>NQR Datafetch and ratio calculation</td>
            <td>NQR</td>
            <td>NQR.1</td>
            <td><a target="_blank" rel="noopener" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/commit/da6b658e231772bd41d706680a4317d13ddb9b57">view</a></td>
          </tr>
          <tr>
            <td>2025-06-22</td>
            <td><code>4b273d6e33b94feb1e7e6906a68b623e113f31ad</code></td>
            <td>NQR sprint 2</td>
            <td>NQR</td>
            <td>NQR.2, NQR.3</td>
            <td><a target="_blank" rel="noopener" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/commit/4b273d6e33b94feb1e7e6906a68b623e113f31ad">view</a></td>
          </tr>
          <tr>
            <td>2025-07-13</td>
            <td><code>54bfa1e282cd5c7c515179c35af65ba6acfd1ec8</code></td>
            <td>NQR.4 Crew AI decision agent added</td>
            <td>NQR</td>
            <td>NQR.4</td>
            <td><a target="_blank" rel="noopener" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/commit/54bfa1e282cd5c7c515179c35af65ba6acfd1ec8">view</a></td>
          </tr>
          <tr>
            <td>2025-08-08</td>
            <td><code>9a3c0bba6d803c24f87376836515564bf3e2400c</code></td>
            <td>Updated Crew AI code</td>
            <td>NQR</td>
            <td>NQR.4</td>
            <td><a target="_blank" rel="noopener" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/commit/9a3c0bba6d803c24f87376836515564bf3e2400c">view</a></td>
          </tr>
          <tr>
            <td>2025-08-08</td>
            <td><code>ea819030a32c99e8b2a89755d39d805030850c95</code></td>
            <td>NQR Backtesting code added</td>
            <td>NQR</td>
            <td>NQR.5, NQR.6</td>
            <td><a target="_blank" rel="noopener" href="https://github.com/sudharshan02086/Sudharshan-AI-Agent-Stock-Prediction/commit/ea819030a32c99e8b2a89755d39d805030850c95">view</a></td>
          </tr>
        </tbody>
      </table>

      <h3 style="margin-top:14px">Task-hour logs</h3>
      <ul class="tight">
        <li><a href="Bojja Task Hours Achieved Sprint 1.docx">Bojja Task Hours Achieved Sprint 1</a></li>
        <li><a href="Bojja Task Hours Achieved Sprint 2.docx">Bojja Task Hours Achieved Sprint 2</a></li>
        <li><a href="Bojja Task Hours Achieved Sprint 3.docx">Bojja Task Hours Achieved Sprint 3</a></li>
        <li><a href="Bojja Task Hours Achieved Sprint 4.docx">Bojja Task Hours Achieved Sprint 4</a></li>
      </ul>
    </section>

    <footer>
      <div>© 2025 · Sudharshan Goud Bojja</div>
    </footer>
  </main>
</body>
</html>
